<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <record id="view_project_issue_helpdesk_form" model="ir.ui.view">
            <field name="name">view.project.issue.helpdesk.form</field>
            <field name="model">project.issue</field>
            <field name="inherit_id" ref="project_issue.project_issue_form_view"/>
            <field name="arch" type="xml">
            	<xpath expr="/form/sheet[@string='Issue']/group/group[1]" position="inside">
                  <field name="issue_type"/>
                  <field name="origin_id"/>  
                  <field name="warranty"/>     
                </xpath>
                <xpath expr="/form/sheet/notebook/page[@string='Extra Info']" position="before">
 					    <page string="Delivery Orders">
                        	<field name="backorder_ids"/> 
                        </page>
                </xpath>          
            </field>
        </record>
        <record id="view_project_issue_sheet_helpdesk_form" model="ir.ui.view">
            <field name="name">view.project.issue.sheet.helpdesk.form</field>
            <field name="model">project.issue</field>
            <field name="inherit_id" ref="project_issue_sheet.project_issue_form_view"/>
            <field name="arch" type="xml">
            	<xpath expr="/form/sheet/notebook/page[@string='Worklogs']/field[@name='timesheet_ids']/tree[@string='Timesheets']/field[@name='name']"   position="before"> 
					<field name="ticket_number"/> 
                </xpath>
                <xpath expr="/form/sheet/notebook/page[@string='Worklogs']/field[@name='timesheet_ids']/tree[@string='Timesheets']/field[@name='date']"   position="after"> 
                    <field name="start_time" widget="float_time"/> 
                    <field name="end_time" widget="float_time"/>
                </xpath> 
                <xpath expr="/form/sheet/notebook/page[@string='Worklogs']/field[@name='timesheet_ids']/tree[@string='Timesheets']/field[@name='user_id']"   position="before"> 
					<field name="service_type"/>   
                </xpath>             
            </field>
        </record>
        
       <record id="view_partner_simple_form" model="ir.ui.view">
            <field name="name">view.partner.simple.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_simple_form"/>
            <field name="arch" type="xml">
            	 <label for="name" position="before">
					<label for="partner_type"/>
					<field name="partner_type" on_change="onchange_partner_type(partner_type, is_company)"/> 
                </label>
                <label for="is_company" position="attributes">
                	<attribute name="invisible">True</attribute>
                </label>
                <field name="is_company"  position="attributes"> 
                	<attribute name="invisible">True</attribute>
                </field>
            </field>
        </record>
        <record id="view_partner_form" model="ir.ui.view">
            <field name="name">view.partner.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
            	 <label for="name" position="before">
					<label for="partner_type"/>
					<field name="partner_type" on_change="onchange_partner_type(partner_type, is_company)"/> 
                </label>
                <label for="is_company" position="attributes">
                	<attribute name="invisible">True</attribute>
                </label>
                <field name="is_company"  position="attributes"> 
                	<attribute name="invisible">True</attribute>
                </field>
            </field>
        </record>
        
         <record id="view_project_issue_origin_helpdesk_form" model="ir.ui.view">
            <field name="name">view.project.issue.origin.helpdesk.form</field>
            <field name="model">project.issue.origin</field>
            <field name="type">form</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <form string="Issue Origin" version="7.0">
                    <sheet>
                        <label for="name" class="oe_edit_only"/>
                        <h1><field name="name"/></h1>
                        <label for="description" class="oe_edit_only"/>
                        <field name="description"/>
                 </sheet>
                </form>
            </field>
        </record>
        <!-- tree -->
        <record id="view_project_issue_origin_helpdesk_tree" model="ir.ui.view">
            <field name="name">view.project.issue.origin.helpdesk.tree</field>
            <field name="model">project.issue.origin</field>
            <field name="type">tree</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <tree string="Issue Origin">
                    <field name="name"/>
                    <field name="description"/>
                </tree>
            </field>
        </record>
        
        <record id="view_project_issue_helpdesk_filter" model="ir.ui.view">
            <field name="name">view.project.issue.helpdesk.filter</field>
            <field name="model">project.issue</field>
            <field name="inherit_id" ref="project_issue.view_project_issue_filter"/>
            <field name="arch" type="xml">
            	<xpath expr="/search/filter[@string='To Do']" position="after"> 
					<filter string="Company" domain="[('partner_type','=','company')]" help="Company" icon="terp-check"/>                   
                </xpath>
                <xpath expr="/search/filter[@string='Company']" position="after"> 
					<filter string="Branch" domain="[('partner_type','=','branch')]" help="Branch" icon="terp-check"/>                   
                </xpath>
                <xpath expr="/search/filter[@string='Company']" position="after"> 
					<filter string="Customer" domain="[('partner_type','=','customer')]" help="Customer" icon="terp-check"/>                   
                </xpath>             
            </field>
        </record>
        
        <!-- ACTIONS -->
        <!-- project_issue_origin -->
        <record model="ir.actions.act_window" id="action_project_issue_origin_helpdesk">
            <field name="name">Issue Origin</field>
            <field name="res_model">project.issue.origin</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Create new issue origin</p>
            </field>
        </record>
	</data>
</openerp>

